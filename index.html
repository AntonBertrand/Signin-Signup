<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Login Signup Form</title>
    
</head>
<body>

    <div class="container">
        <form action="" id="login-form" class="">
            <h1>Login</h1>
            <div class="form-message"></div>
            <div class="input-group">
                <input type="text" id="loginUsername" placeholder="Username">
                <div class="form-error-message"></div>
            </div>
            <div class="input-group">
                <input type="password" id="loginPassword" placeholder="Password">
                <div class="form-error-message"></div>
            </div>
            <button id="loginAccount">Continue</button>
            <p> <a href="#">I cant remember my password</a> </p>
            <p> <a href="#" id="link-signup">Don't have an account? Create One</a> </p>
        </form>

        <form action="" id="signup-form" class="form-hidden">
            <h1>Registration</h1>
            <div class="input-group">
                <input type="text" id="signupUsername" class="form-input" placeholder="Username">
                <div class="form-error-message"></div>
            </div>
            <div class="input-group">
                <input type="password" id="signupPassword" placeholder="Password">
                <div class="form-error-message"></div>
            </div>
            <div class="input-group">
                <input type="password" placeholder="Confirm Password">
                <div class="form-error-message"></div>
            </div>
            <button id="createAccount">Create Account</button>
            <p> <a href="#" id="link-login">Already have an account?</a> </p>
        </form>
    </div>
    
    <script src="main.js"></script>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js";
        import { getDatabase } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-database.js";
        import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-auth.js";
        import { signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.19.1/firebase-auth.js";



        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyBhGxLVn4XhQvyz69Ehg2cgpUA1PlnXQlU",
          authDomain: "login-signup-2d680.firebaseapp.com",
          databaseURL: "https://login-signup-2d680-default-rtdb.firebaseio.com",
          projectId: "login-signup-2d680",
          storageBucket: "login-signup-2d680.appspot.com",
          messagingSenderId: "108863265408",
          appId: "1:108863265408:web:0794033badc3cee5582465"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        const auth = getAuth();


        createAccount.addEventListener('click', (e) => {

            e.preventDefault();


            var email = document.getElementById('signupUsername').value;
            var password = document.getElementById('signupPassword').value;


            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    // Signed in 
                    const user = userCredential.user;
                    alert('User Created');
                })
                .catch((error) => {

                    const errorCode = error.code;
                    const errorMessage = error.message;
                    alert('errorMessage');
                    // ..

                });

        });

        loginAccount.addEventListener('click', (e) => {
            e.preventDefault();

            var email = document.getElementById('loginUsername').value;
            var password = document.getElementById('loginPassword').value;

            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    // Signed in 
                const user = userCredential.user;
                alert('Logged In!');

        })
        .catch((error) => {

            const errorCode = error.code;
            const errorMessage = error.message;
            alert('errorMessage');

        });
        })


      </script>

</body>
</html>